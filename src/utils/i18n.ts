import { getLocales } from 'expo-localization';
import { I18n } from 'i18n-js';

const i18n = new I18n({
  es: {
    greeting_morning: 'Buenos días',
    greeting_afternoon: 'Buenas tardes',
    greeting_evening: 'Buenas noches',
    today_progress: 'Progreso de hoy',
    habits: 'hábitos',
    completed: 'completado',
    habits_completed: '%{completed}/%{total} hábitos',
    percent_completed: '%{percent}% completado',
    no_habits: 'Aún no tienes hábitos',
    no_habits_sub: 'Toca el botón + para agregar tu primer hábito',
    new_habit: 'Nuevo hábito',
    edit_habit: 'Editar hábito',
    habit_name: 'Nombre del hábito',
    save: 'Guardar',
    cancel: 'Cancelar',
    delete: 'Eliminar',
    archive: 'Archivar',
    unarchive: 'Activar',
    share: 'Compartir progreso',
    streak: 'Racha actual',
    days_month: 'Días este mes',
    success_rate: 'Tasa de éxito',
    last_30: 'Últimos 30 días',
    settings: 'Configuración',
    stats: 'Estadísticas',
    today: 'Hoy',
    delete_confirm: '¿Seguro que quieres eliminar este hábito?',
    clear_data: 'Borrar todos los datos',
    archived: 'Archivados',
    check_progress: 'Revisemos tus hábitos de hoy',
  },
  en: {
    greeting_morning: 'Good morning',
    greeting_afternoon: 'Good afternoon',
    greeting_evening: 'Good evening',
    today_progress: "Today's progress",
    habits: 'habits',
    completed: 'completed',
    habits_completed: '%{completed}/%{total} habits',
    percent_completed: '%{percent}% completed',
    no_habits: 'No habits yet',
    no_habits_sub: 'Tap + to add your first habit',
    new_habit: 'New habit',
    edit_habit: 'Edit habit',
    habit_name: 'Habit name',
    save: 'Save',
    cancel: 'Cancel',
    delete: 'Delete',
    archive: 'Archive',
    unarchive: 'Activate',
    share: 'Share progress',
    streak: 'Current streak',
    days_month: 'Days this month',
    success_rate: 'Success rate',
    last_30: 'Last 30 days',
    settings: 'Settings',
    stats: 'Statistics',
    today: 'Today',
    delete_confirm: 'Are you sure you want to delete this habit?',
    clear_data: 'Clear all data',
    archived: 'Archived',
    check_progress: "Let's check today's habits",
  },
  pt: {
    greeting_morning: 'Bom dia',
    greeting_afternoon: 'Boa tarde',
    greeting_evening: 'Boa noite',
    today_progress: 'Progresso de hoje',
    habits: 'hábitos',
    completed: 'concluído',
    habits_completed: '%{completed}/%{total} hábitos',
    percent_completed: '%{percent}% concluído',
    no_habits: 'Sem hábitos ainda',
    no_habits_sub: 'Toque em + para adicionar seu primeiro hábito',
    new_habit: 'Novo hábito',
    edit_habit: 'Editar hábito',
    habit_name: 'Nome do hábito',
    save: 'Salvar',
    cancel: 'Cancelar',
    delete: 'Excluir',
    archive: 'Arquivar',
    unarchive: 'Ativar',
    share: 'Compartilhar progresso',
    streak: 'Sequência atual',
    days_month: 'Dias este mês',
    success_rate: 'Taxa de sucesso',
    last_30: 'Últimos 30 dias',
    settings: 'Configurações',
    stats: 'Estatísticas',
    today: 'Hoje',
    delete_confirm: 'Tem certeza que deseja excluir este hábito?',
    clear_data: 'Apagar todos os dados',
    archived: 'Arquivados',
    check_progress: 'Vamos verificar seus hábitos de hoje',
  },
});

const deviceLocale = getLocales()[0]?.languageCode ?? 'es';
i18n.locale = ['es', 'en', 'pt'].includes(deviceLocale) ? deviceLocale : 'es';
i18n.enableFallback = true;
i18n.defaultLocale = 'es';

export default i18n;
export const t = (key: string, params?: Record<string, any>) => i18n.t(key, params);